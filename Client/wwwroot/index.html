<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>My Static Web App Shopping List</title>
    <meta name="theme-color" content="#000000" />
    <base href="/" />
    <link rel="stylesheet"
          href="https://use.fontawesome.com/releases/v5.4.1/css/all.css"
          integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
          crossorigin="anonymous" />
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bulma@0.8.2/css/bulma.css" />
    <link rel="stylesheet"
          href="css/app.css" />
</head>

<body>
    <div id="modal"></div>
    <div id="root">
        <app>Loading...</app>
    </div>

    <script src="_framework/blazor.webassembly.js"></script>

    <script>
        $(function () {
            awem.dragReor({ from: $('#board1 .card'), to: '#board1 .card', sel: '.item' });
    
            // don't drag board when mouse down on .item
            function cancel(cx) { return $(cx.e.target).closest('.item').length; }
    
            awem.dragReor({ from: $('#board1'), to: '#board1', sel: '.card', cancel: cancel });
    
            // write to log
            $('#board1').on('awedrop', function (e, data) {
                var o = $(e.target);
                var msg = name(o) + ' moved from ' + name(data.from) + ' to ' + name(o.parent()) +
                    ' | previ = ' + data.previ + ' newi = ' + o.index();
                $('#logci').html(msg + '</br>');
            });
    
            function name(o) {
                var r = o.attr('class');
                if (o.data('k')) r += ' ' + o.data('k');
                if (o.hasClass('item')) r = o.html();
                return r;
            }
        });
    </script>
    
    <div class="board" id="board1">
        <div class="card" data-k="a">
            <div class="item">item 1</div>
            <div class="item">item 2</div>
            <div class="item">item 3</div>
        </div>
    
        <div class="card" data-k="b">
            <div class="item">item 4</div>
            <div class="item">item 5</div>
        </div>
    
        <div class="card" data-k="c">
            <div class="item">item 6</div>
            <div class="item">item 7</div>
        </div>
    </div>
    <br />
    <br />
    <div id="logci" class="log2"></div>
    <style>
        .item.o-plh, .card.o-plh {
            background: #f8da4e !important;
            color: #915608 !important;
        }
    </style>
</body>

</html>
